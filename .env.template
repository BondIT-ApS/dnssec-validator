# DNSSEC Validator Environment Configuration Template
# Copy this file to .env and configure with your values
# cp .env.template .env

# ========================================
# Flask Application Configuration
# ========================================
# Environment: development or production
FLASK_ENV=development

# ========================================
# Feature Flags
# ========================================
# Enable/disable TLSA/DANE validation display in web UI (true/false)
SHOW_VALIDATION_TLSA_DANE=false

# Show/hide BondIT attribution footer in web UI (true/false)
SHOW_BONDIT_ATTRIBUTION=true

# ========================================
# Google Analytics Configuration
# ========================================
# Enable Google Analytics tracking (true/false) - disabled by default
GA_ENABLED=false

# Google Analytics 4 tracking ID (required if GA_ENABLED=true)
# Example: G-XXXXXXXXXX
GA_TRACKING_ID=your-ga4-tracking-id

# ========================================
# Logging Configuration
# ========================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=DEBUG

# Log format: 'standard' or 'json' for structured logging
LOG_FORMAT=standard

# Optional: Enable file logging (uncomment to use)
# LOG_FILE=/app/logs/dnssec-validator.log

# ========================================
# Rate Limiting Configuration
# ========================================
# Global requests per IP per day
RATE_LIMIT_GLOBAL_DAY=5000

# Global requests per IP per hour
RATE_LIMIT_GLOBAL_HOUR=1000

# API requests per IP per minute
RATE_LIMIT_API_MINUTE=200

# API requests per IP per hour
RATE_LIMIT_API_HOUR=2000

# Web interface requests per IP per minute
RATE_LIMIT_WEB_MINUTE=50

# Web interface requests per IP per hour
RATE_LIMIT_WEB_HOUR=500

# ========================================
# CORS Configuration
# ========================================
# Comma-separated list of allowed origins for production
# Example: https://dnssec-validator.bondit.dk,https://yourdomain.com
# CORS_ORIGINS=your-domain-here

# ========================================
# Health Check Configuration
# ========================================
# Enable health check endpoints (true/false)
HEALTH_CHECK_ENABLED=true

# Test DNS resolution in health checks (true/false)
HEALTH_CHECK_DNS_TEST=true

# Memory usage threshold percentage (0-100)
HEALTH_CHECK_MEMORY_THRESHOLD=90

# ========================================
# InfluxDB Application Configuration
# ========================================
# Enable request logging to InfluxDB (true/false)
REQUEST_LOGGING_ENABLED=true

# InfluxDB server URL
INFLUX_URL=http://influxdb:8086

# InfluxDB authentication token (must match DOCKER_INFLUXDB_INIT_ADMIN_TOKEN)
INFLUX_TOKEN=your-influx-token

# InfluxDB organization name
INFLUX_ORG=dnssec-validator

# InfluxDB bucket name for storing requests
INFLUX_BUCKET=requests

# ========================================
# Database Management
# ========================================
# Recreate database/bucket on startup (true/false) - DANGEROUS in production
INFLUX_DB_RECREATE=false

# Schema version for tracking (optional)
INFLUX_DB_VERSION=v2.1

# Truncate all data on startup (true/false) - VERY DANGEROUS
INFLUX_DB_TRUNCATE=false

# Seconds to wait for InfluxDB readiness
INFLUX_DB_INIT_WAIT=10

# ========================================
# InfluxDB Container Configuration
# ========================================
# InfluxDB initialization mode
DOCKER_INFLUXDB_INIT_MODE=setup

# InfluxDB admin username
DOCKER_INFLUXDB_INIT_USERNAME=admin

# InfluxDB admin password - CHANGE THIS FOR PRODUCTION
DOCKER_INFLUXDB_INIT_PASSWORD=your-secure-password

# InfluxDB organization (should match INFLUX_ORG)
DOCKER_INFLUXDB_INIT_ORG=dnssec-validator

# InfluxDB bucket name (should match INFLUX_BUCKET)
DOCKER_INFLUXDB_INIT_BUCKET=requests

# Data retention period (e.g., 10d, 30d, 90d, 0 for infinite)
DOCKER_INFLUXDB_INIT_RETENTION=10d

# InfluxDB admin token - CHANGE THIS FOR PRODUCTION (must match INFLUX_TOKEN)
DOCKER_INFLUXDB_INIT_ADMIN_TOKEN=your-influx-token
